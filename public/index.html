<!DOCTYPE html>
<html>
	<head>
		<meta charset=utf-8>
		<title>superinternet.space</title>
		<style>
		html{
			font-size: 14px;
		}
			body {
				margin: 0; overflow: hidden;
				font-family: helvetica, sans-serif;
				font-size: 1rem;
			}
			canvas { width: 100%; height: 100%}
		#cursor{
			background-image: none;
			background-size: contain;
			width: 30px;
			height: 30px;
			position: absolute;
			top: calc(50% - 30px);
			left: calc(50% - 0px);
		}
		#gui{
			display: none;
			width: auto;
			height: 10vh;
			position: absolute;
			top: 0;
			/* left: 50%; */
			/*background: white;*/
		}
		input{
			padding: 0;
			border:none;
			display: block;
			height: 20px;
			font-size: 1rem;
		}
		textarea, input, button { outline: none; }

		input[type=range]
		{
		    width: 100%;
		    height: 15px;
				-webkit-appearance: none;
		    appearance: none;
				/* border: 5px solid black; */
				background: #ccc;
				margin: 0;
		    /* padding: 0 5px; */
		}
		input[type=range]::-webkit-slider-thumb {
			-webkit-appearance: none;
			background: black;
			height: 15px;
			width: 15px;
		}
		input[type=range]::-moz-range-thumb {
			-webkit-appearance: none;
			background: black;
			height: 15px;
			width: 15px;
		}
		.gui {
			background: white;
			border: 5px solid black;
			margin: 5px 0 0 5px;
			padding: 5px;
			/* max-width: 50px; */
			max-height: 50px;
			min-height: 50px;
			min-width: 50px;

		}
		.colors {
			max-width: 121px;
			text-align: center;
			font-size: 1rem;
		}
		</style>
	</head>
	<body>

		<div id="cursor"></div>

		<div id="gui">

			<input class="colors gui jscolor {width:100, padding:0, shadow:false, borderWidth:0, backgroundColor:'transparent', insetColor:'#000', pointerBorderWidth:'0'}"
			id="colorpicker" onchange="changeColor(this.jscolor)">

			<div class="gui brushSize">
				<div class="brushSizeVal">asd
				</div>
				<input id="brushSize" type="range" step="1" value="5" min="1" max="100">
			</div>

			<div class="gui share">
				<a onclick="saveCubemap();">save 360 room</a>
			</div>
			<!-- <div class="gui info">
				Il mormonismo è una religione fondata da Joseph Smith, che disse di aver ricevuto per rivelazione il Libro di Mormon e fu considerato profeta dalla comunità di praticanti della poligamia[1][2] da lui fondata, i quali vennero comunemente identificati come mormoni.
			</div> -->
		</div>



		<script src="js/three.min.js"></script>
    <script src="js/canvasTexture.js"></script>
		<script src="js/PointerLockControls.js"></script>
		<script src="js/CubemapToEquirectangular.js"></script>
		<script type="text/javascript" src="js/GDepthEncoder.js"></script>

    <script src="js/main.js"></script>
		<script type="text/javascript" src="/socket.io/socket.io.js"></script>


		<script src="js/jscolor/jscolor.js"></script>
		<script type="text/javascript" src="http://superinternet.cc/superanalytics.js"></script>

		<script type="text/javascript">
			var socket = io();

			socket.on("updateWall", function(i,_canvas){
				can = walls[i].obj.canvas;
				// console.log(can);
				// console.log(_canvas);
				can.loadImage(_canvas);
			});

			socket.on("draw", function(i,x,y,brushSize,color){
				console.log("someone is drawing on wall " +i);
				drawOnWall(i,x,y,brushSize,color);
			});

			// window.addEventListener("beforeunload", function (event) {
			//   // event.preventDefault();
			// 	console.log("unloading");
			// 	socket.close();
			// });

		</script>





	</body>
</html>
